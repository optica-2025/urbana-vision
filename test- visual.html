<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Vista - URBANA VISION</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            background: linear-gradient(135deg, #134e4a 0%, #7c2d12 100%); 
            min-height: 100vh; 
            color: white; 
            padding: 20px;
        }
        .container { max-width: 800px; margin: 0 auto; }
        
        .header { 
            background: rgba(255, 255, 255, 0.1); 
            backdrop-filter: blur(10px);
            border-radius: 20px; 
            padding: 30px; 
            text-align: center; 
            margin-bottom: 30px; 
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .brand-name { 
            font-size: 28px; 
            font-weight: 800; 
            margin-bottom: 10px;
            background: linear-gradient(45deg, #10b981, #059669);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .test-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }

        .eye-chart {
            background: white;
            color: black;
            padding: 40px;
            border-radius: 15px;
            margin: 20px 0;
            font-family: monospace;
            line-height: 1.2;
        }

        .chart-line {
            margin: 15px 0;
            font-weight: bold;
        }

        .line-1 { font-size: 60px; }
        .line-2 { font-size: 50px; }
        .line-3 { font-size: 40px; }
        .line-4 { font-size: 30px; }
        .line-5 { font-size: 20px; }
        .line-6 { font-size: 16px; }
        .line-7 { font-size: 12px; }

        .distance-info {
            background: rgba(255, 185, 0, 0.2);
            border: 2px solid #ffb900;
            color: #ffb900;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-weight: 600;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
        }

        .btn-whatsapp {
            background: linear-gradient(45deg, #25d366, #128c7e);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .test-instructions {
            background: rgba(16, 185, 129, 0.1);
            border: 2px solid rgba(16, 185, 129, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .test-instructions h3 {
            color: #10b981;
            margin-bottom: 15px;
        }

        .test-instructions ol {
            text-align: left;
            margin-left: 20px;
        }

        .test-instructions li {
            margin: 10px 0;
            padding-left: 10px;
        }

        .color-test {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .color-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid white;
        }

        .color-circle:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .warning-box {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid rgba(239, 68, 68, 0.5);
            color: #ef4444;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .result-box {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid rgba(16, 185, 129, 0.5);
            color: #10b981;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
        }

        .astigmatism-test {
            background: white;
            color: black;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .astigmatism-lines {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 200px;
            height: 200px;
            margin: 20px auto;
            position: relative;
            background: radial-gradient(circle, transparent 40%, black 41%, black 43%, transparent 44%);
        }

        .astigmatism-line {
            position: absolute;
            width: 2px;
            height: 80px;
            background: black;
            top: 50%;
            left: 50%;
            transform-origin: center;
        }

        .footer {
            position: fixed;
            bottom: 10px;
            right: 25px;
            font-size: 10px;
            font-weight: 600;
            opacity: 0.6;
            z-index: 999;
            background: linear-gradient(45deg, #8B4513, #DAA520);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @media (max-width: 768px) {
            .eye-chart {
                padding: 20px;
            }
            
            .line-1 { font-size: 40px; }
            .line-2 { font-size: 35px; }
            .line-3 { font-size: 30px; }
            .line-4 { font-size: 25px; }
            .line-5 { font-size: 18px; }
            .line-6 { font-size: 14px; }
            .line-7 { font-size: 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div style="font-size: 50px; margin-bottom: 15px;">üëÅÔ∏è</div>
            <h1 class="brand-name">URBANA VISION</h1>
            <p>Test de Vista Preliminar</p>
            <p style="margin-top: 10px;">üì± 809-713-5307 | üåê urbanavision.com</p>
        </div>

        <div class="warning-box">
            <h3>‚ö†Ô∏è IMPORTANTE - AVISO M√âDICO</h3>
            <p><strong>Este test es solo preliminar y NO reemplaza un examen m√©dico profesional.</strong></p>
            <p>Los resultados son orientativos. Para un diagn√≥stico preciso, visite a un optometrista calificado.</p>
        </div>

        <div class="test-instructions">
            <h3>üìã Instrucciones del Test</h3>
            <ol>
                <li><strong>Posici√≥n:</strong> Col√≥quese a 2 metros (6 pies) de la pantalla</li>
                <li><strong>Iluminaci√≥n:</strong> Aseg√∫rese de tener buena luz, sin reflejos en la pantalla</li>
                <li><strong>Ojos:</strong> Haga el test con cada ojo por separado (cubra el otro)</li>
                <li><strong>Lectura:</strong> Lea cada l√≠nea desde la m√°s grande hasta la m√°s peque√±a</li>
                <li><strong>Dificultad:</strong> Anote en qu√© l√≠nea comenz√≥ a tener dificultades</li>
            </ol>
        </div>

        <div class="distance-info">
            <h3>üìè ¬°IMPORTANTE!</h3>
            <p>Mant√©ngase a exactamente <strong>2 metros (6 pies)</strong> de la pantalla</p>
            <p>Use el tama√±o completo de su pantalla para mejores resultados</p>
        </div>

        <!-- TEST DE AGUDEZA VISUAL -->
        <div class="test-section">
            <h2>üëÅÔ∏è Test de Agudeza Visual</h2>
            <p>Lea cada l√≠nea de arriba hacia abajo. Cubra un ojo a la vez.</p>
            
            <div class="eye-chart">
                <div class="chart-line line-1">E</div>
                <div class="chart-line line-2">F P</div>
                <div class="chart-line line-3">T O Z</div>
                <div class="chart-line line-4">L P E D</div>
                <div class="chart-line line-5">P E C F D</div>
                <div class="chart-line line-6">E D F C Z P</div>
                <div class="chart-line line-7">F E L O P Z D</div>
                <div class="chart-line line-7">D E F P O T E C</div>
            </div>
            
            <p><strong>¬øHasta qu√© l√≠nea pudo leer claramente?</strong></p>
            <div style="margin: 20px 0;">
                <button class="btn btn-secondary" onclick="marcarResultado('linea-7')">L√≠nea 7-8 (Excelente)</button>
                <button class="btn btn-secondary" onclick="marcarResultado('linea-5')">L√≠nea 5-6 (Bueno)</button>
                <button class="btn btn-secondary" onclick="marcarResultado('linea-3')">L√≠nea 3-4 (Regular)</button>
                <button class="btn btn-secondary" onclick="marcarResultado('linea-1')">L√≠nea 1-2 (Necesita correcci√≥n)</button>
            </div>
        </div>

        <!-- TEST DE ASTIGMATISMO -->
        <div class="test-section">
            <h2>üéØ Test de Astigmatismo</h2>
            <p>Observe las l√≠neas. ¬øVe algunas m√°s oscuras o n√≠tidas que otras?</p>
            
            <div class="astigmatism-test">
                <div class="astigmatism-lines">
                    <div class="astigmatism-line" style="transform: translate(-50%, -50%) rotate(0deg);"></div>
                    <div class="astigmatism-line" style="transform: translate(-50%, -50%) rotate(30deg);"></div>
                    <div class="astigmatism-line" style="transform: translate(-50%, -50%) rotate(60deg);"></div>
                    <div class="astigmatism-line" style="transform: translate(-50%, -50%) rotate(90deg);"></div>
                    <div class="astigmatism-line" style="transform: translate(-50%, -50%) rotate(120deg);"></div>
                    <div class="astigmatism-line" style="transform: translate(-50%, -50%) rotate(150deg);"></div>
                </div>
                <p style="color: black;"><strong>¬øTodas las l√≠neas se ven igual de n√≠tidas y oscuras?</strong></p>
            </div>
            
            <div style="margin: 20px 0;">
                <button class="btn btn-secondary" onclick="marcarAstigmatismo('no')">S√≠, todas iguales</button>
                <button class="btn btn-secondary" onclick="marcarAstigmatismo('si')">No, algunas diferentes</button>
            </div>
        </div>

        <!-- TEST DE COLORES -->
        <div class="test-section">
            <h2>üåà Test B√°sico de Colores</h2>
            <p>Identifique los colores de los c√≠rculos:</p>
            
            <div class="color-test">
                <div>
                    <div class="color-circle" style="background: #ff0000;" onclick="identificarColor('rojo')"></div>
                    <p>¬øQu√© color ve?</p>
                </div>
                <div>
                    <div class="color-circle" style="background: #00ff00;" onclick="identificarColor('verde')"></div>
                    <p>¬øQu√© color ve?</p>
                </div>
                <div>
                    <div class="color-circle" style="background: #0000ff;" onclick="identificarColor('azul')"></div>
                    <p>¬øQu√© color ve?</p>
                </div>
                <div>
                    <div class="color-circle" style="background: #ffff00;" onclick="identificarColor('amarillo')"></div>
                    <p>¬øQu√© color ve?</p>
                </div>
            </div>
        </div>

        <div id="resultBox" class="result-box">
            <h3>üìä Resultados del Test</h3>
            <div id="resultContent"></div>
        </div>

        <div class="test-section">
            <h2>üì± Solicitar Examen Profesional</h2>
            <p>Para un diagn√≥stico preciso y completo, agenda tu examen profesional:</p>
            
            <button class="btn btn-whatsapp" onclick="solicitarExamen()">
                üìÖ Agendar Examen Profesional
            </button>
            <button class="btn btn-primary" onclick="consultarResultados()">
                üí¨ Consultar Resultados
            </button>
            <button class="btn btn-secondary" onclick="volverInicio()">
                üè† Volver al Inicio
            </button>
        </div>
    </div>

    <div class="footer">
        by fbrugal jrubinstein consultores
    </div>

    <script>
        let resultados = {
            agudeza: '',
            astigmatismo: '',
            colores: [],
            comentarios: ''
        };

        function marcarResultado(linea) {
            resultados.agudeza = linea;
            
            // Marcar bot√≥n activo
            document.querySelectorAll('.test-section button').forEach(btn => {
                btn.style.background = 'rgba(255, 255, 255, 0.2)';
            });
            event.target.style.background = 'linear-gradient(45deg, #10b981, #059669)';
            
            actualizarResultados();
        }

        function marcarAstigmatismo(tiene) {
            resultados.astigmatismo = tiene;
            
            // Marcar bot√≥n activo en secci√≥n de astigmatismo
            const botones = event.target.parentElement.querySelectorAll('button');
            botones.forEach(btn => {
                btn.style.background = 'rgba(255, 255, 255, 0.2)';
            });
            event.target.style.background = 'linear-gradient(45deg, #10b981, #059669)';
            
            actualizarResultados();
        }

        function identificarColor(color) {
            if (!resultados.colores.includes(color)) {
                resultados.colores.push(color);
            }
            
            // Efecto visual
            event.target.style.transform = 'scale(1.2)';
            setTimeout(() => {
                event.target.style.transform = 'scale(1)';
            }, 200);
            
            actualizarResultados();
        }

        function actualizarResultados() {
            const resultBox = document.getElementById('resultBox');
            const resultContent = document.getElementById('resultContent');
            
            if (resultados.agudeza || resultados.astigmatismo || resultados.colores.length > 0) {
                resultBox.style.display = 'block';
                
                let contenido = '<div style="text-align: left;">';
                
                if (resultados.agudeza) {
                    const interpretacion = {
                        'linea-7': 'üëÅÔ∏è <strong>Excelente:</strong> Su agudeza visual parece muy buena',
                        'linea-5': 'üëÅÔ∏è <strong>Buena:</strong> Su agudeza visual es adecuada',
                        'linea-3': 'üëÅÔ∏è <strong>Regular:</strong> Podr√≠a beneficiarse de correcci√≥n visual',
                        'linea-1': 'üëÅÔ∏è <strong>Atenci√≥n:</strong> Se recomienda examen profesional urgente'
                    };
                    contenido += `<p>${interpretacion[resultados.agudeza]}</p>`;
                }
                
                if (resultados.astigmatismo) {
                    const astigmatismo = resultados.astigmatismo === 'si' 
                        ? 'üéØ <strong>Posible astigmatismo:</strong> Algunas l√≠neas se ven diferentes'
                        : 'üéØ <strong>Sin astigmatismo aparente:</strong> Las l√≠neas se ven uniformes';
                    contenido += `<p>${astigmatismo}</p>`;
                }
                
                if (resultados.colores.length > 0) {
                    contenido += `<p>üåà <strong>Colores identificados:</strong> ${resultados.colores.join(', ')}</p>`;
                }
                
                contenido += '<p style="margin-top: 15px;"><strong>‚ö†Ô∏è Recuerde:</strong> Estos resultados son preliminares. Un examen profesional es necesario para un diagn√≥stico preciso.</p>';
                contenido += '</div>';
                
                resultContent.innerHTML = contenido;
                
                // Generar comentarios para WhatsApp
                resultados.comentarios = generarComentarios();
            }
        }

        function generarComentarios() {
            let comentarios = 'üìä RESULTADOS DEL TEST PRELIMINAR:\n\n';
            
            if (resultados.agudeza) {
                const textos = {
                    'linea-7': 'Agudeza visual: Excelente (l√≠neas 7-8)',
                    'linea-5': 'Agudeza visual: Buena (l√≠neas 5-6)',
                    'linea-3': 'Agudeza visual: Regular (l√≠neas 3-4)',
                    'linea-1': 'Agudeza visual: Necesita atenci√≥n (l√≠neas 1-2)'
                };
                comentarios += `üëÅÔ∏è ${textos[resultados.agudeza]}\n`;
            }
            
            if (resultados.astigmatismo) {
                const texto = resultados.astigmatismo === 'si' 
                    ? 'Posible astigmatismo detectado'
                    : 'Sin astigmatismo aparente';
                comentarios += `üéØ ${texto}\n`;
            }
            
            if (resultados.colores.length > 0) {
                comentarios += `üåà Colores identificados: ${resultados.colores.join(', ')}\n`;
            }
            
            comentarios += '\n‚ö†Ô∏è Estos resultados son preliminares y requieren confirmaci√≥n profesional.';
            
            return comentarios;
        }

        function solicitarExamen() {
            const mensaje = `üìÖ *SOLICITUD DE EXAMEN PROFESIONAL*\n\n` +
                          `Hola! He realizado el test preliminar en su sitio web y me interesa agendar un examen profesional completo.\n\n` +
                          `${resultados.comentarios || 'Test preliminar completado'}\n\n` +
                          `Por favor, ay√∫denme a agendar una cita para:\n` +
                          `‚Ä¢ Examen completo de la vista\n` +
                          `‚Ä¢ Evaluaci√≥n profesional\n` +
                          `‚Ä¢ Recomendaciones de correcci√≥n si es necesario\n\n` +
                          `üì± URBANA VISION\n` +
                          `‚òéÔ∏è 809-713-5307\n` +
                          `üåê urbanavision.com`;
            
            const url = `https://wa.me/18097135307?text=${encodeURIComponent(mensaje)}`;
            window.open(url, '_blank');
        }

        function consultarResultados() {
            if (!resultados.comentarios) {
                alert('Complete el test primero para poder consultar los resultados.');
                return;
            }
            
            const mensaje = `üí¨ *CONSULTA SOBRE RESULTADOS DEL TEST*\n\n` +
                          `He completado el test preliminar de vista y me gustar√≠a consultar sobre los resultados:\n\n` +
                          `${resultados.comentarios}\n\n` +
                          `¬øPodr√≠an darme m√°s informaci√≥n sobre qu√© significan estos resultados y qu√© pasos seguir?\n\n` +
                          `üì± URBANA VISION\n` +
                          `‚òéÔ∏è 809-713-5307\n` +
                          `üåê urbanavision.com`;
            
            const url = `https://wa.me/18097135307?text=${encodeURIComponent(mensaje)}`;
            window.open(url, '_blank');
        }

        function volverInicio() {
            window.location.href = 'index.html';
        }

        // Inicializaci√≥n
        console.log('‚úÖ Test de Vista URBANA VISION cargado correctamente');
    </script>
</body>
</html>